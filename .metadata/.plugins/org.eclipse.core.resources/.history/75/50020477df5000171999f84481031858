package com.chinasofti.eecuser.controller;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.chinasofti.eecuser.javabean.SqlDataPage;
import com.chinasofti.eecuser.model.service.AdminServiceImp;
import com.chinasofti.eecuser.model.service.IAdminService;


/**
 * Servlet implementation class AdminServlet
 */
@WebServlet("/AdminServlet")
public class AdminServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public AdminServlet() {
    
    }
    
    public void getPageMode(String pageMode, SqlDataPage stuPage){
    	if(pageMode.equals("first")){
    		stuPage.getFirstPage();
    	}else if(pageMode.equals("pre")){
    		stuPage.getPrePage();
    	}else if(pageMode.equals("next")){
    		stuPage.getNextPage();
    	}else if(pageMode.equals("last")){
    		stuPage.getLastPage();
    	}else{
    		try{
    			stuPage.getCustomPage(Integer.parseInt(pageMode));
    		}catch(NumberFormatException e){
    			System.out.println("传入指定页参数有问题，跳入首页");
    			stuPage.getCustomPage(1);
    		}
    	}
    }
    
	
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// 获取页面的参数
		String roleId 		= 	request.getParameter("roleId");
		String classId 		= 	request.getParameter("classId");
		String eecId		=  	request.getParameter("eecId");
		String eecName 		= 	request.getParameter("eecName");
		String action 		= 	request.getParameter("action");
		
		// 其他需要的参数
		PrintWriter out = response.getWriter();
		IAdminService adminService = new AdminServiceImp();
		
		// 参数处理
		if((roleId == null || roleId =="") 
			&& 	(classId == null || classId =="")
			&& 	(eecId == null || eecId =="")
			&& 	(eecName == null || eecName =="")
				){
			action = "errorReq";
		}
		
		// 按需请求
		if(action.equals("getQuery")){
			
		}else if(action.equals("insertData")){
			
		}else if(action.equals("deleteData")){
			
		}else if(action.equals("updateData")){
			
		}else if(action.equals("errorReq")){
			out.write("[]");
		}else{ 
			out.write("[]");
		}
		
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
	
	}

}
