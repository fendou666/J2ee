package com.study.mvc.model.service;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import com.study.mvc.model.javabean.StudentInfo;
import com.study.mvc.tools.DBUtil;

public class StudentServiceImp implements IStudentService {

	@Override
	public StudentInfo getStudentByNum(int num) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<StudentInfo> getStudentByName(String name) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<StudentInfo> getStudentBySex(String sex) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<StudentInfo> getStudentByAge(int start, int end) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<StudentInfo> getStudentBySchool(String schoolName) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<StudentInfo> getStudentByCondition(int num, String name,
			String sex, int start, int end, String schoolName) {
//		String sql = "SELECT id, stuNum, name, sex, age, gradeFrom FROM studentInfoA WHERE "
//				+ "id = " + num
//				+ " AND name = " + name
//				+ " AND name = " + name
//				+ " AND name = " + name
//				+ " AND name = " + name
//				;
		List<StudentInfo> stuList = null;
		String sql = "SELECT id, stuNum, name, sex, age, gradeFrom FROM studentInfoA";
		ResultSet rs = DBUtil.queryData(sql);
		if(rs!=null){
			try {
				while(rs.next()){
					if(rs.isFirst()){
						// TODO 这里这一步可以放在上面
						stuList = new ArrayList<StudentInfo>();
					}
					stuList.add(new StudentInfo(
							Integer.parseInt(rs.getString("id")),
							Integer.parseInt(rs.getString("num")),
							rs.getString("name"),
							rs.getString("sex"),
							Integer.parseInt(rs.getString("age")),
							rs.getString("school")));
				}
			} catch (SQLException e) {
				e.printStackTrace();
			}
		}
		return stuList;
	}

	@Override
	public boolean insertStudentInfo(StudentInfo stu) {
		return false;
	}

	@Override
	public boolean deleteStudentInfo(int num) {
		return false;
	}

	@Override
	public boolean saveStudentInfo(StudentInfo stu) {
		// TODO 更新是全部更新吗不判断吗
		String sql = "UPDATE studentInfoA SET name='刘亦帅' "
				+ " stuNum=" + stu.getNum()
				+ " name=" + stu.getName()
				+ " sex=" + stu.getSex()
				+ " age=" + stu.getAge()
				+ " WHERE id=1";
		 name, sex, age, gradeFrom
		return false;
	}

}
